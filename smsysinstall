#!/bin/sh
#
prog=smsysinstall
usage=$prog
#
#	Try to load the various libraries we need to use our stuff.
#	This can be brittle.

BIN=$HOME/bin

if [ ! -d $BIN ]
then
	mkdir -p ${BIN}	|| exit 1
fi

case `uname` in
Linux)
	if [ ! -n "`which ffmpeg`" ]	# this is for av
	then
		sudo apt-get install -y libav-tools libavutil-dev \
			libavfilter-dev libavformat-dev libavcodec-dev libswscale-dev
	fi

	# for cv:
	# sudo apt-get install libopencv-dev	# this brings in lots!

	if [ ! -n "`which display`" ]
	then
		sudo apt-get install -y imagemagick
	fi

	for p in wget mpg123 bc
	do
		if [ ! -n "`which $p`" ]
		then
			sudo apt-get install -y $p
		fi
	done

	splitter=ss
	;;
FreeBSD)
	sudo pkg install -y ffmpeg
	sudo pkg install -y mpg123
	sudo apt-get install -y wget

	splitter=ss
	;;
Darwin)
	splitter=ss
	;;
*)
	exit 16
esac
